<p align="center">
  <img src="https://github.com/RedheadRusskie/crpytography-otp/blob/main/assets/illustration.svg" alt="Logo" width="300" />
</p>


# The One-Time Pad (OTP)

The One-Time Pad (OTP) is a theoretically* unbreakable symmetric encryption technique that has been studied for over a century. It is the only known encryption scheme that is mathematically proven to be perfectly secure under the right conditions. This essay explores the foundations of OTP, including key formulas for information and entropy, how OTP works, and the requirements and potential pitfalls associated with it.

## Information Theory and Entropy

Before diving into how OTP works, it is essential to understand some fundamental concepts in information theory, particularly **information** and **entropy**.

### Information

In information theory, **information** is defined as the reduction of uncertainty. Devised by the mathematician Claude Shannon, the amount of information I(x) in a message x is given by:

```math
I(x) = -\log_2 p(x)
```

Where:

- p(x) is the probability of the message \(x\) occurring.

The more uncertain a message is (i.e., the lower the probability of its occurrence), the higher the amount of information it contains. For example, if you are given a perfectly random message, it contains the maximum amount of information.

### Entropy

**Entropy** is a measure of uncertainty or randomness in a system. For a random variable X with possible outcomes \( x_1, x_2, ..., x_n \), the **entropy** H(X) is defined as:

```math
H(X) = -\sum p(x_i) \log_2 p(x_i)
```

Where:

- p(x) is the probability of outcome x.

The higher the entropy, the greater the randomness, and thus, the less predictable the outcome.

### Relation to OTP

In the context of the OTP, the key secret must retain as much randomness and unpredictability as possible in order to ensure that the entropy is maximized. If the key is truly random and has maximum entropy, the ciphertext generated by the OTP will have entropy equal to the entropy of the original plaintext, making it impossible to derive any information about the plaintext without the key.

---

## How the One-Time Pad Works

The One-Time Pad is a simple encryption technique that uses a random key of the same length as the message being encrypted. The key is used **only once** (hence the name), and it is **combined with the plaintext** using a simple bitwise XOR operation.

### XOR Operation

The XOR (exclusive OR) operation is the core of OTP encryption.

```math
C = P \oplus K
```

Where:

- \( C \) is the ciphertext,
- \( P \) is the plaintext,
- \( K \) is the key,
- \( \oplus \) denotes the XOR operation.
<br/>

| Plaintext Bit P         | Key Bit K         | Ciphertext Bit (C = P âŠ• K )           |
| ----------------------- | ----------------- | ------------------------------------- |
| 0                       | 0                 | 0                                     |
| 1                       | 0                 | 1                                     |
| 0                       | 1                 | 1                                     |
| 1                       | 1                 | 0                                     |

This operation is performed bit by bit for each character in the plaintext, producing a ciphertext that is completely dependent on both the plaintext and the key.

### Decryption

Decryption is identical to encryption in OTP. The ciphertext is XORed with the same key to retrieve the original plaintext:

```math
P = C \oplus K
```
<br/>

Since XOR is a reversible operation, applying the same key to the ciphertext will recover the original plaintext.

## Requirements for The OTP

1. **Key Length**: The key must be at least as long as the plaintext:

   ```math
   |K| \geq |P|
   ```

   This ensures that there is no pattern in the encryption that could be exploited.

2. **Key Randomness**: The key must be **truly random**. If the key is predictable in any way (e.g., generated by an algorithm), it can be cracked by an adversary using statistical analysis.

3. **Key Secrecy**: The OTP assumes that the key value is known only to the message's intended sender and receiver.

4. **Key Usage**: Crucially, the key must be **used only once**. Reusing the key for multiple messages introduces vulnerabilities, as the ciphertexts can be compared to reveal information about the key and plaintext.

5. **Key Distribution**: The key must be securely distributed between the sender and receiver beforehand, as transmitting the key over a potentially insecure channel defeats the purpose of the OTP.

## The Pitfalls of the OTP

While the One-Time Pad offers theoretically perfect security, it comes with significant **practical limitations** which render it impractical for use in the real world:

1. **Key Management**: The most significant challenge with OTP is **key management**. Since the key must be as long as the plaintext and used only once, managing and securely distributing large quantities of keys becomes increasingly tedious.

2. **Key Distribution**: Securely transmitting the key to the recipient without interception is a major obstacle. If the key is intercepted, the security of the OTP is compromised. This makes OTP impractical for many real-world applications.

3. **Key Generation**: Generating truly random keys is a non-trivial task. If the random number generator is not sufficiently random, the security of the OTP can be undermined.

### In Summary

While the One-Time Pad provides absolute security when used correctly, its practical limitations make it difficult to implement for large-scale, everyday communication. The key distribution, storage requirements, and key management complexity are major obstacles that have kept OTP from being widely used outside of certain specialized, high-security environments.

---

## Example Code: OTP in Action

In this repository you will find a working example of the OTP in practice.

1. Cloning the repository:

```bash
git clone https://github.com/RedheadRusskie/crpytography-otp.git
```

2. Running the script

```bash
g++ -std=c++11 demo.cpp -o demo && ./demo
```
